(this["webpackJsonptareas-app"]=this["webpackJsonptareas-app"]||[]).push([[0],{111:function(e,t,n){},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(43),a=n.n(r).a.create({baseURL:"https://tareas-reactapp.herokuapp.com/api/tareas"})},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(99),i=n.n(c),o=(n(111),n(112),n(25)),s=n(2),u=n(47),l=n(1),j=function(){return Object(l.jsx)(r.Suspense,{fallback:Object(l.jsx)("span",{children:"Loading..."}),children:Object(l.jsx)(o.a,{children:Object(l.jsxs)(s.d,{children:[u.a.map((function(e){var t=e.path,n=e.Component;return Object(l.jsx)(s.b,{path:t,element:Object(l.jsx)(n,{})},t)})),Object(l.jsx)(s.b,{path:"/*",element:Object(l.jsx)(s.a,{to:"/auth/",replace:!0})})]})})})};n(246);var d=function(){return Object(l.jsx)(j,{})},b=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,254)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),b()},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(18),c=n(0),i=n(2),o=n(41),s=n(1),u=function(e){var t=e.children,n=Object(c.useState)({}),u=Object(r.a)(n,2),l=u[0],j=u[1],d=Object(i.g)(),b=function(e){j(e)};return Object(c.useEffect)((function(){localStorage.getItem("token")?function(){var e={"x-token":localStorage.getItem("token")};o.a.get("/renew",{headers:e}).then((function(e){return e.data})).then((function(e){b(e.user),localStorage.setItem("token",e.token)}))}():d("/auth")}),[]),Object(s.jsx)(a.a.Provider,{value:{logedUser:l,updateUser:b},children:t})}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(94);var r=n(1),a=function(){return Object(r.jsx)("footer",{children:"\xa9 Copyright 2021"})},c=n(47),i=n(2),o=n(25),s=function(){var e=Object(i.g)();return Object(r.jsxs)("div",{className:"sidenav",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"App"})}),Object(r.jsx)("img",{src:"/logo512.png",alt:""}),Object(r.jsx)("div",{className:"routes",children:Object(r.jsxs)("ul",{children:[c.a.map((function(e){var t=e.to,n=e.name;return"Auth"!==n?Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:t,children:n})},t):""})),Object(r.jsx)("li",{children:Object(r.jsx)("p",{className:"logout",onClick:function(){localStorage.clear(),e("/auth")},children:"Logout"})})]})})]})},u=(n(234),function(e){var t=e.children;return Object(r.jsxs)("div",{className:"main__container",children:[Object(r.jsx)(s,{}),Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)("div",{className:"component_content",children:t}),Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)(a,{})})]})]})})},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(43),a=n.n(r).a.create({baseURL:"https://tareas-reactapp.herokuapp.com/api/users"})},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),a=n(30),c=n(18),i=n(21),o=n(39),s=(n(232),n(249)),u=n(1),l=function(){var e=Object(r.useContext)(c.a).logedUser;return Object(u.jsxs)("div",{className:"perfil-container",children:[Object(u.jsxs)("div",{className:"datos-container",children:[Object(u.jsx)("h2",{children:"Mis datos"}),Object(u.jsxs)("p",{children:["Nombre : ",e.name]}),Object(u.jsxs)("p",{children:["Email : ",e.email]})]}),Object(u.jsx)("div",{className:"form-container",children:Object(u.jsx)(i.d,{initialValues:{name:"",email:""},onSubmit:function(e){return console.log(e)},validationSchema:o.a({name:o.b().min(10,"Debe tener minimo 10 caracteres").required("Campo obligatorio"),email:o.b().email("Ingrese un email valido").required("Campo obligatorio")}),children:function(){return Object(u.jsxs)(i.c,{children:[Object(u.jsx)("h3",{children:"Editar perfil"}),Object(u.jsx)("label",{htmlFor:"name",children:"Nombre: "}),Object(u.jsx)(i.b,{type:"text",name:"name"}),Object(u.jsx)(i.a,{name:"name",component:"span",className:"error-msg"}),Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)(i.b,{type:"email",name:"email"}),Object(u.jsx)(i.a,{name:"email",component:"span",className:"error-msg"}),Object(u.jsx)(s.a,{children:"Enviar"})]})}})})]})},j=(n(233),function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Mi Perfil"}),Object(u.jsx)(l,{})]})}),d=n(40),b=n(61),f=n(248),h=(n(235),n(95)),m=n(62),O=function(){var e=Object(r.useContext)(c.a).logedUser,t=Object(h.a)({id:e.id}).tareas,n=Object(m.a)().completarTarea;return Object(u.jsxs)("div",{children:[e?Object(u.jsx)("h1",{children:e.name}):"",t?t.map((function(e){return Object(u.jsx)(f.a,{className:"tarea-item",children:Object(u.jsxs)(f.a.Body,{children:[Object(u.jsx)(f.a.Title,{children:e.title}),Object(u.jsx)(f.a.Text,{children:e.desc}),Object(u.jsx)(s.a,{onClick:function(){return n(e)},children:"Marcar completada"})]})},e.id)})):""]})},x=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Mis tareas"}),Object(u.jsx)(O,{})]})},p=n(98),v=function(){return Object(u.jsx)(a.a,{children:Object(u.jsx)(b.a,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(x,{})})})})})},g=[{to:"/tareas/",path:"/tareas/*",Component:Object(r.lazy)((function(){return n.e(3).then(n.bind(null,255))})),name:"Tareas"},{to:"/users/",path:"/users/*",Component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,256))})),name:"Usuarios"},{to:"/mis-tareas",path:"/mis-tareas",Component:v,name:"Mis tareas"},{to:"/mi-perfil",path:"/mi-perfil",Component:function(){return Object(u.jsx)(a.a,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(j,{})})})},name:"Mi perfil"},{to:"/auth/",path:"/auth/*",Component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,257))})),name:"Auth"}]},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(0),c=n(60),i=n(14),o=n(1),s=function(e){var t=e.children,n=Object(a.useState)(),s=Object(r.a)(n,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){i.a.get("/").then((function(e){return e.data})).then((function(e){e.ok?l(e.data):console.log("Error en useEffect TareaProvider",e.msg)}))}),[u]),Object(o.jsx)(c.a.Provider,{value:{tareas:u},children:t})}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(0),c=n(18),i=n(14),o=n(16),s=n.n(o),u=function(){var e=Object(a.useContext)(c.a).logedUser;return{completarTarea:function(e){e=Object(r.a)(Object(r.a)({},e),{},{pending:!1,completed:!0}),i.a.post("/completar",e).then((function(e){return e.data})).then((function(e){e.ok?s.a.fire("Listo!","La tarea se marco como completada correctamente!","success"):s.a.fire("Error!","Ocurrio un error al marcar la tarea como completa!","error")}))},crearTarea:function(e,t){i.a.post("/crear",{title:e,desc:t}).then((function(e){return e.data})).then((function(e){e.ok?s.a.fire("Listo!","La tarea se creo correctamente!","success"):s.a.fire("Error!","Ocurrio un error al crear la tarea!","error")}))},asignarTarea:function(t){var n={iduser:e.id,idtarea:t};i.a.post("/asignar",n).then((function(e){return e.data})).then((function(e){e.ok?s.a.fire("Listo!","Tomaste la tarea correctamente!","success"):s.a.fire("Error!","Hubo un error al tomar la tarea!","error")}))},eliminarTarea:function(e){i.a.delete("/eliminar/".concat(e)).then((function(e){return e.data})).then((function(e){e.ok?s.a.fire("Listo!","La tarea elimino correctamente!","success"):s.a.fire("Error!","Ocurrio un error al eliminar la tarea!","error")}))}}}},94:function(e,t,n){},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(0),c=n(42),i=n(14),o=function(e){var t=e.id,n=Object(a.useContext)(c.a).users,o=Object(a.useState)({}),s=Object(r.a)(o,2),u=s[0],l=s[1],j=Object(a.useState)([]),d=Object(r.a)(j,2),b=d[0],f=d[1];return Object(a.useEffect)((function(){l(n.find((function(e){return e.id===t})))}),[t,n]),Object(a.useEffect)((function(){i.a.get("/".concat(t)).then((function(e){return e.data})).then((function(e){e.ok?f(e.data):console.log("useEffect users useGetUserTarea",e.msg)}))}),[t,u]),{user:u,tareas:b}}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(0),c=n(42),i=n(41),o=n(1),s=function(e){var t=e.children,n=Object(a.useState)([]),s=Object(r.a)(n,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){i.a.get("/").then((function(e){return e.data})).then((function(e){e.ok?l(e.data):console.log(e.msg)}))}),[]),Object(o.jsx)(c.a.Provider,{value:{users:u},children:t})}}},[[247,1,2]]]);
//# sourceMappingURL=main.c3a75296.chunk.js.map