(this["webpackJsonptareas-app"]=this["webpackJsonptareas-app"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21),a=n.n(r).a.create({baseURL:"https://tareas-reactapp.herokuapp.com/api/tareas"})},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21),a=n.n(r).a.create({baseURL:"https://tareas-reactapp.herokuapp.com/api/users"})},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),a=Object(r.createContext)({})},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n(27),c=n(26),i=n(87),o=n(88),s=n(13),u=(n(72),n(39)),j=n(28),l=n(42),f=n(1),d=function(){var e=Object(r.useContext)(s.a).logedUser,t=Object(u.a)({id:e.id}).tareas,n=Object(j.a)().completarTarea,a=Object(l.a)(t),c=a.nextPage,d=a.prevPage,b=a.filteredTareas;return Object(f.jsxs)("div",{children:[e?Object(f.jsx)("h1",{children:e.name}):"",t&&b().map((function(e){return Object(f.jsx)(i.a,{className:"tarea-item",children:Object(f.jsxs)(i.a.Body,{children:[Object(f.jsx)(i.a.Title,{children:e.title}),Object(f.jsx)(i.a.Text,{children:e.desc}),Object(f.jsx)(o.a,{onClick:function(){return n(e)},children:"Marcar completada"})]})},e.id)})),Object(f.jsxs)("div",{className:"btn-pag",children:[Object(f.jsx)(o.a,{onClick:d,children:"Anterior"}),Object(f.jsx)(o.a,{onClick:c,children:"Siguiente"})]})]})},b=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Mis tareas"}),Object(f.jsx)(d,{})]})},h=n(30),O=n(44),m=function(){return Object(f.jsx)(c.a,{children:Object(f.jsx)(a.a,{children:Object(f.jsx)(O.a,{children:Object(f.jsx)(h.a,{children:Object(f.jsx)(b,{})})})})})},p=[{to:"/tareas/",path:"/tareas/*",Component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,254))})),name:"Tareas"},{to:"/users/",path:"/users/*",Component:Object(r.lazy)((function(){return n.e(6).then(n.bind(null,255))})),name:"Usuarios"},{to:"/mis-tareas",path:"/mis-tareas",Component:m,name:"Mis tareas"},{to:"/auth/",path:"/auth/*",Component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,256))})),name:"Auth"}]},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(13),c=n(0),i=n(2),o=n(19),s=n(1),u=function(e){var t=e.children,n=Object(c.useState)({}),u=Object(r.a)(n,2),j=u[0],l=u[1],f=Object(i.g)(),d=function(e){l(e)};return Object(c.useEffect)((function(){localStorage.getItem("token")?function(){var e={"x-token":localStorage.getItem("token")};o.a.get("/renew",{headers:e}).then((function(e){return e.data})).then((function(e){d(e.user),localStorage.setItem("token",e.token)}))}():f("/auth")}),[]),Object(s.jsx)(a.a.Provider,{value:{logedUser:j,updateUser:d},children:t})}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(0),c=n(15),i=n(10),o=n(1),s=function(e){var t=e.children,n=Object(a.useState)(),s=Object(r.a)(n,2),u=s[0],j=s[1],l=function(){i.a.get("/").then((function(e){return e.data})).then((function(e){e.ok?j(e.data):console.log("Error en useEffect TareaProvider",e.msg)}))};return Object(a.useEffect)((function(){l()}),[]),Object(o.jsx)(c.a.Provider,{value:{tareas:u,getTareas:l},children:t})}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(3),a=n(0),c=n(13),i=n(10),o=n(11),s=n.n(o),u=n(15),j=function(){var e=Object(a.useContext)(c.a).logedUser,t=Object(a.useContext)(u.a).getTareas;return{completarTarea:function(e){e=Object(r.a)(Object(r.a)({},e),{},{pending:!1,completed:!0}),i.a.post("/completar",e).then((function(e){return e.data})).then((function(e){e.ok?(s.a.fire("Listo!","La tarea se marco como completada correctamente!","success"),t()):s.a.fire("Error!","Ocurrio un error al marcar la tarea como completa!","error")}))},crearTarea:function(e,n){i.a.post("/crear",{title:e,desc:n}).then((function(e){return e.data})).then((function(e){e.ok?(s.a.fire("Listo!","La tarea se creo correctamente!","success"),t()):s.a.fire("Error!","Ocurrio un error al crear la tarea!","error")}))},asignarTarea:function(n){var r={iduser:e.id,idtarea:n};i.a.post("/asignar",r).then((function(e){return e.data})).then((function(e){e.ok?(s.a.fire("Listo!","Tomaste la tarea correctamente!","success"),t()):s.a.fire("Error!","Hubo un error al tomar la tarea!","error")}))},eliminarTarea:function(e){i.a.delete("/eliminar/".concat(e)).then((function(e){return e.data})).then((function(e){e.ok?(s.a.fire("Listo!","La tarea elimino correctamente!","success"),t()):s.a.fire("Error!","Ocurrio un error al eliminar la tarea!","error")}))}}}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(43);var r=n(1),a=function(){return Object(r.jsx)("footer",{children:"\xa9 Copyright 2021"})},c=n(22),i=n(2),o=n(14),s=function(){var e=Object(i.g)();return Object(r.jsxs)("div",{className:"sidenav",children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"App"})}),Object(r.jsx)("img",{src:"/logo512.png",alt:""}),Object(r.jsx)("div",{className:"routes",children:Object(r.jsxs)("ul",{children:[c.a.map((function(e){var t=e.to,n=e.name;return"Auth"!==n?Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{to:t,children:n})},t):""})),Object(r.jsx)("li",{children:Object(r.jsx)("p",{className:"logout",onClick:function(){localStorage.clear(),e("/auth")},children:"Logout"})})]})})]})},u=(n(83),function(e){var t=e.children;return Object(r.jsxs)("div",{className:"main__container",children:[Object(r.jsx)(s,{}),Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)("div",{className:"component_content",children:t}),Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)(a,{})})]})]})})},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(0),c=n(20),i=n(10),o=function(e){var t=e.id,n=Object(a.useContext)(c.a).users,o=Object(a.useState)({}),s=Object(r.a)(o,2),u=s[0],j=s[1],l=Object(a.useState)([]),f=Object(r.a)(l,2),d=f[0],b=f[1];return Object(a.useEffect)((function(){j(n.find((function(e){return e.id===t})))}),[t,n]),Object(a.useEffect)((function(){i.a.get("/".concat(t)).then((function(e){return e.data})).then((function(e){e.ok&&b(e.data)}))}),[t,u]),{user:u,tareas:d}}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),a=n(0),c=function(e){var t=Object(a.useState)(0),n=Object(r.a)(t,2),c=n[0],i=n[1],o=function(){return e.slice(c,c+3)};return{nextPage:function(){c+3>o().length||i((function(e){return e+3}))},prevPage:function(){c-3<0||i((function(e){return e-3}))},filteredTareas:o}}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(0),c=n(20),i=n(19),o=n(1),s=function(e){var t=e.children,n=Object(a.useState)([]),s=Object(r.a)(n,2),u=s[0],j=s[1];return Object(a.useEffect)((function(){i.a.get("/").then((function(e){return e.data})).then((function(e){e.ok?j(e.data):console.log(e.msg)}))}),[]),Object(o.jsx)(c.a.Provider,{value:{users:u},children:t})}},51:function(e,t,n){},72:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(45),i=n.n(c),o=(n(51),n(52),n(14)),s=n(2),u=n(22),j=n(1),l=function(){return Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)("span",{children:"Loading..."}),children:Object(j.jsx)(o.a,{children:Object(j.jsxs)(s.d,{children:[u.a.map((function(e){var t=e.path,n=e.Component;return Object(j.jsx)(s.b,{path:t,element:Object(j.jsx)(n,{})},t)})),Object(j.jsx)(s.b,{path:"/*",element:Object(j.jsx)(s.a,{to:"/auth/",replace:!0})})]})})})};n(84);var f=function(){return Object(j.jsx)(l,{})},d=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,253)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root")),d()}},[[85,2,3]]]);
//# sourceMappingURL=main.92d02ceb.chunk.js.map