(this["webpackJsonptareas-app"]=this["webpackJsonptareas-app"]||[]).push([[5],{112:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a),t.d(a,"Auth",(function(){return h}));var r=t(0),n=t(2),s=t(113),i=t(87),c=t(14),o=t(114),l=t(19),j=t(13),b=function(){var e=Object(r.useContext)(j.a).updateUser,a=Object(n.g)();return{crearUsuario:function(t){l.a.post("/crear",t).then((function(e){return e.data})).then((function(t){t.ok?(e(t.user),localStorage.setItem("token",t.token),a("/tareas")):console.log("Error registro")}))},logearUsuario:function(t,r){l.a.post("/logear",{email:t,password:r}).then((function(e){return e.data})).then((function(t){t.ok?(e(t.user),localStorage.setItem("token",t.token),a("/tareas")):console.log("Error login")}))}}},m=(t(112),t(1)),u=function(){var e=b().logearUsuario;return Object(m.jsxs)("div",{className:"auth_container",children:[Object(m.jsxs)("div",{className:"navigate_auth",children:[Object(m.jsx)(c.b,{to:"/auth/login",children:"Login"}),Object(m.jsx)(c.b,{to:"/auth/register",children:"Register"})]}),Object(m.jsx)(s.d,{initialValues:{email:"user1@email.com",password:"123456"},onSubmit:function(a){var t=a.email,r=a.password;return e(t,r)},validationSchema:o.a({email:o.b().required("Debe ingresar el email").email("Email invalido"),password:o.b().required("Debe ingresar la password")}),children:function(e){return Object(m.jsxs)(s.c,{children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)(s.b,{type:"email",name:"email"}),Object(m.jsx)(s.a,{name:"email",component:"span"}),Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)(s.b,{type:"password",name:"password"}),Object(m.jsx)(s.a,{name:"password",component:"span"}),Object(m.jsx)(i.a,{type:"submit",children:"Iniciar sesion"})]})}})]})},d=function(){var e=b().crearUsuario;return Object(m.jsxs)("div",{className:"auth_container",children:[Object(m.jsxs)("div",{className:"navigate_auth",children:[Object(m.jsx)(c.b,{to:"/auth/login",children:"Login"}),Object(m.jsx)(c.b,{to:"/auth/register",children:"Register"})]}),Object(m.jsx)(s.d,{initialValues:{name:"",email:"",password:""},onSubmit:function(a){return e(a)},validationSchema:o.a({name:o.b().min(5,"Debe tener minimo 5 caracteres").required("Campo obligatorio").max(50,"No debe superar los 50 caracteres"),email:o.b().required("Debe ingresar el email").email("Email invalido"),password:o.b().required("Debe ingresar la password").min(6,"Debe tener minimo 6 caracteres")}),children:function(e){return Object(m.jsxs)(s.c,{children:[Object(m.jsx)("label",{htmlFor:"name",children:"Nombre:"}),Object(m.jsx)(s.b,{type:"text",name:"name"}),Object(m.jsx)(s.a,{name:"name",component:"span"}),Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)(s.b,{type:"email",name:"email"}),Object(m.jsx)(s.a,{name:"email",component:"span"}),Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)(s.b,{type:"password",name:"password"}),Object(m.jsx)(s.a,{name:"password",component:"span"}),Object(m.jsx)(i.a,{type:"submit",children:"Registrarme"})]})}})]})},p=t(26),h=function(){var e,a=Object(n.g)();return Object(r.useEffect)((function(){e=localStorage.getItem("token"),console.log(e),e&&a("/tareas")}),[]),Object(m.jsx)(p.a,{children:Object(m.jsx)("div",{className:"auth",children:Object(m.jsxs)(n.d,{children:[Object(m.jsx)(n.b,{path:"/register",element:Object(m.jsx)(d,{})}),Object(m.jsx)(n.b,{path:"/login",element:Object(m.jsx)(u,{})}),Object(m.jsx)(n.b,{path:"/*",element:Object(m.jsx)(n.a,{to:"login",replace:!0})})]})})})};a.default=h}}]);
//# sourceMappingURL=5.35456a7b.chunk.js.map